# Steps followed for setiing up postgresql

first, installed brew for package managing on mac, which was used to install postgresql.
- `brew install postgresql` to install postgres to the machine
- `brew services start postgresql` to start postgresql server
- validate the installation via `psql --version` psql shell can be started via `psql` command

# setting up the models, and initializing sqlalchemy for usage with project

- add new dependencies via poetry `poetry add alembic` and `poetry add python-dotenv` to add missing dependencies required for database setup
- `poetry run alembic init alembic` command to initialize alembic in the project 
- `CREATE ROLE postgres WITH LOGIN SUPERUSER PASSWORD 'dev';` create super user for handling
- ` psql -U postgres -W` log in and verify super user
- ` CREATE DATABASE library_db;` create database for dummy project, verify by ` \l` command in the psql shell
- update the alembic ini file with `sqlalchemy.url = ${DATABASE_URL}` and configuring credentials in .env, a sample .env.example is commited
- `poetry run alembic revision --autogenerate -m "Initial tables"` ran this for migrations to be completed
- `poetry run alembic upgrade head` to upgrade the head acc to the autogenerated files
- `psql -U postgres -d library_db` using this command to validate the migration, [ensuring its successful] `\dt` for getting tables.

### output i got:

```
library_db=# \dt
              List of relations
 Schema |      Name       | Type  |  Owner   
--------+-----------------+-------+----------
 public | alembic_version | table | postgres
 public | authors         | table | postgres
 public | books           | table | postgres
 public | fines           | table | postgres
 public | genres          | table | postgres
 public | loans           | table | postgres
 public | reservations    | table | postgres
 public | reviews         | table | postgres
 public | users           | table | postgres
(9 rows)
```